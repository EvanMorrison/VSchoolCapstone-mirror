
<!-- floating sidebar for search, login, etc -->
<side-bar class="sidebar"  md-whiteframe="z1"></side-bar>

<!-- main list of top posts -->
<div layout-padding ng-cloak>
    <div class="main" flex="100" ng-cloak>
        <md-list>
            <md-list-item class="md-3-line post" ng-repeat="post in posts">
                <!-- voting count and arrows -->
                <div class="vote" layout="column">
                    <md-icon class="material-icons pointer" ng-click="addPostVote(post, 'up')">keyboard_arrow_upward</md-icon>
                    <span><b>{{post.netVotes}}</b></span>
                    <md-icon class="material-icons pointer" ng-click="addPostVote(post, 'down')">keyboard_arrow_downward</md-icon>
                </div>
                <div layout layout-padding>
                    <a href="{{::post.siteUrl}}/post/{{::post._id}}"><img ng-src="{{::post.image}}" alt="" class="main-post-thumb"/></a>
                    <div  layout="column">
                        <h4 class="post-title">{{::post.title}}</h4>
                        <span class="caption">
                            submitted {{ ::post.createdAt | when }} by <a ui-sref="main"><b>{{::post.originalPoster.username}}</b></a> to <b><a ui-sref="sub({ id: '{{::post.subreddit._id}}' } )">{{::post.subreddit.name}}</a></b>
                            <br/>
                            <b><a class="pointer" ui-sref="post({id:'{{::post._id}}' })">{{post.comments.length}} comments</a></b>
                        </span>
                    </div>
                </div>
                <md-divider ></md-divider>
            </md-list-item>
        </md-list>
    </div>
    
</div>